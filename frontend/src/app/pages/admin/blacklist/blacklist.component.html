<app-topnav></app-topnav>

<div class="blacklist-container">
  <app-sidenav></app-sidenav>
  <h2>Qu·∫£n l√Ω Danh s√°ch ƒëen</h2>

  <div class="search-section">
    <input type="text" placeholder="T√¨m theo CCCD" [(ngModel)]="searchModel.cccd" />
    <input type="text" placeholder="T√¨m theo H·ªç t√™n" [(ngModel)]="searchModel.fullname" />
    <input type="text" placeholder="Ng∆∞·ªùi t√¨m ki·∫øm (user ID)" [(ngModel)]="searchModel.checked_by_id" />
    <button (click)="search()">üîç T√¨m ki·∫øm</button>
    <button class="add-button" (click)="openAddModal()">+ Th√™m m·ªõi</button>
  </div>

  <table class="blacklist-table" *ngIf="blacklist.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>CCCD</th>
        <th>H·ªç v√† t√™n</th>
        <th>C√¥ng ty</th>
        <th>Vi ph·∫°m</th>
        <th>Ng√†y b·∫Øt ƒë·∫ßu</th>
        <th>Ng√†y k·∫øt th√∫c</th>
        <th>Ng∆∞·ªùi t·∫°o</th>
        <th>Ng√†y t·∫°o</th>
        <th>Ghi ch√∫</th>
        <th>Thao t√°c</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let entry of blacklist">
        <td>{{ entry.id }}</td>
        <td>{{ entry.cccd }}</td>
        <td>{{ entry.fullname }}</td>
        <td>{{ entry.company }}</td>
        <td>{{ entry.violation }}</td>
        <td>{{ entry.penalty_start | date: 'dd/MM/yyyy' }}</td>
        <td>{{ entry.penalty_end | date: 'dd/MM/yyyy' }}</td>
        <td>{{ entry.created_by }}</td>
        <td>{{ entry.created_at | date: 'short' }}</td>
        <td>{{ entry.note }}</td>
        <td>
          <button (click)="edit(entry)">S·ª≠a</button>
          <button class="danger" (click)="delete(entry.id)">Xo√°</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="blacklist.length === 0" class="no-data">Kh√¥ng c√≥ k·∫øt qu·∫£ n√†o.</div>
</div>
